import itertools

def dividir_en_silabas(palabra): 
    vocales = 'aeiouáéíóú'
    silabas = []
    silaba_actual = ''

    for letra in palabra:
        if letra.lower() in vocales:
            silaba_actual += letra
        else:
            silaba_actual += letra
            if len(silaba_actual) >= 2 and silaba_actual[-2].lower() not in vocales:
                silabas.append(silaba_actual[:-1])
                silaba_actual = silaba_actual[-1]

    if silaba_actual:
        silabas.append(silaba_actual)

    return silabas

def generar_combinaciones(palabras):
    combinaciones = []
    for r in range(1, len(palabras) + 1):
        combinaciones.extend([''.join(c) for c in itertools.combinations(palabras, r)])
    return combinaciones

def generar_combinaciones_silabas(palabras):
    combinaciones = []
    for r in range(1, len(palabras) + 1):
        combinaciones.extend([''.join(c) for c in itertools.combinations(palabras, r)])
    return combinaciones

def pedir_palabras():
    palabras = []
    while True:
        palabra = input("Introduce una palabra (introduce '2' para finalizar): ")
        if palabra == '2':
            break
        palabras.append(palabra)
    return palabras

def mostrar_menu():
    print("\nBienvenida al combinador de palabras y generador de contraseñas")
    print("1. Introduce palabras")
    print("2. Genera combinaciones de las palabras")
    print("3. Salir")

def main():
    palabras = []
    while True:
        mostrar_menu()
        opcion = input("Elige una opción: ")

        if opcion == '1':
            palabras.extend(pedir_palabras())
        elif opcion == '2':
            if palabras:
                print("\n¿Deseas combinar las palabras o las sílabas de las palabras?")
                print("1. Combinar palabras")
                print("2. Combinar sílabas de las palabras")
                opcion_combinacion = input("Selecciona una opción: ")
                
                if opcion_combinacion == '1':
                    combinaciones = generar_combinaciones(palabras)
                elif opcion_combinacion == '2':
                    silabas = [dividir_en_silabas(p) for p in palabras]
                    combinaciones = generar_combinaciones_silabas(silabas)
                else:
                    print("Opción inválida.")
                    continue
                
                print("\nCombinaciones:")
                for combinacion in combinaciones:
                    print(combinacion)
            else:
                print("No has introducido ninguna palabra.")
        elif opcion == '3':
            print("¡Hasta luego!")
            break
        else:
            print("Opción inválida.")

if __name__ == "__main__":
    main()
